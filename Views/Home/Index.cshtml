@using Hệ_thống_dạy_học_trung_tâm_ngoại_ngữ_và_tin_học.Models.Enums
@using Hệ_thống_dạy_học_trung_tâm_ngoại_ngữ_và_tin_học.Models.ViewModel.Home
@model HomeViewModel
@{
    ViewData["Title"] = "Home";
}

<!-- Hero Section -->
<section class="hero-section bg-gradient-primary text-white py-5">
    <div class="container">
        <div class="row align-items-center min-vh-50">
            <div class="col-lg-6">
                <div class="hero-content animate__animated animate__fadeInLeft">
                    <h1 class="display-4 fw-bold mb-4">
                        Master <span class="text-warning">Languages</span> &
                        <span class="text-info">Technology</span>
                    </h1>
                    <p class="lead mb-4">
                        Join thousands of learners who have transformed their careers through our comprehensive
                        language and IT courses. Expert instructors, flexible schedules, industry-recognized certificates.
                    </p>
                    <div class="hero-buttons">
                        <a href="#featured-courses" class="btn btn-light btn-lg me-3 mb-2">
                            <i class="fas fa-rocket me-2"></i>Explore Courses
                        </a>
                        <a href="#" class="btn btn-outline-light btn-lg mb-2" data-bs-toggle="modal" data-bs-target="#videoModal">
                            <i class="fas fa-play me-2"></i>Watch Demo
                        </a>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="hero-stats animate__animated animate__fadeInRight">
                    <div class="row g-3">
                        <div class="col-6">
                            <div class="stat-card bg-white bg-opacity-10 backdrop-blur rounded-4 p-4 text-center">
                                <div class="stat-icon mb-2">
                                    <i class="fas fa-users fa-2x text-warning"></i>
                                </div>
                                <h3 class="fw-bold mb-1 counter" data-target="@Model.Statistics.TotalStudents">0</h3>
                                <small class="text-light">Happy Students</small>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="stat-card bg-white bg-opacity-10 backdrop-blur rounded-4 p-4 text-center">
                                <div class="stat-icon mb-2">
                                    <i class="fas fa-chalkboard-teacher fa-2x text-success"></i>
                                </div>
                                <h3 class="fw-bold mb-1 counter" data-target="@Model.Statistics.TotalTeachers">0</h3>
                                <small class="text-light">Expert Teachers</small>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="stat-card bg-white bg-opacity-10 backdrop-blur rounded-4 p-4 text-center">
                                <div class="stat-icon mb-2">
                                    <i class="fas fa-book fa-2x text-info"></i>
                                </div>
                                <h3 class="fw-bold mb-1 counter" data-target="@Model.Statistics.TotalCourses">0</h3>
                                <small class="text-light">Available Courses</small>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="stat-card bg-white bg-opacity-10 backdrop-blur rounded-4 p-4 text-center">
                                <div class="stat-icon mb-2">
                                    <i class="fas fa-trophy fa-2x text-warning"></i>
                                </div>
                                <h3 class="fw-bold mb-1 counter" data-target="@Model.Statistics.ActiveClasses">0</h3>
                                <small class="text-light">Active Classes</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Animated Background -->
    <div class="hero-bg-animation">
        <div class="floating-icon" style="top: 10%; left: 10%;">
            <i class="fas fa-code"></i>
        </div>
        <div class="floating-icon" style="top: 20%; right: 15%;">
            <i class="fas fa-language"></i>
        </div>
        <div class="floating-icon" style="bottom: 30%; left: 5%;">
            <i class="fas fa-laptop-code"></i>
        </div>
        <div class="floating-icon" style="bottom: 10%; right: 10%;">
            <i class="fas fa-graduation-cap"></i>
        </div>
    </div>
</section>

<!-- Featured Courses Section -->
<section id="featured-courses" class="py-5">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="display-5 fw-bold mb-3">Featured Courses</h2>
            <p class="lead text-muted">Discover our most popular and highly-rated courses</p>
        </div>

        <div class="row g-4">
            @foreach (var course in Model.FeaturedCourses)
            {
                <div class="col-lg-4 col-md-6">
                    <div class="course-card card h-100 shadow-hover border-0 overflow-hidden">
                        <div class="course-image position-relative">
                            <img src="@(GetCourseImage(course.Type, course.Category))" class="card-img-top" alt="@course.Name" style="height: 200px; object-fit: cover;">
                            <div class="course-overlay position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center opacity-0">
                                <a href="#" class="btn btn-light rounded-pill">
                                    <i class="fas fa-arrow-right me-2"></i>Learn More
                                </a>
                            </div>
                            <div class="course-badge position-absolute top-0 end-0 m-3">
                                @if (course.Type == CourseType.Language)
                                {
                                    <span class="badge bg-primary rounded-pill">
                                        <i class="fas fa-language me-1"></i>Language
                                    </span>
                                }
                                else
                                {
                                    <span class="badge bg-success rounded-pill">
                                        <i class="fas fa-laptop-code me-1"></i>IT
                                    </span>
                                }
                            </div>
                        </div>

                        <div class="card-body p-4">
                            <div class="course-meta mb-2">
                                <span class="badge bg-light text-dark me-2">@course.Level</span>
                                <span class="text-muted small">
                                    <i class="fas fa-clock me-1"></i>@course.DurationHours hours
                                </span>
                            </div>

                            <h5 class="card-title fw-bold mb-3">@course.Name</h5>
                            <p class="card-text text-muted mb-3">
                                @(course.Description.Length > 100 ? course.Description.Substring(0, 100) + "..." : course.Description)
                            </p>

                            <div class="course-details mb-3">
                                <div class="row g-2 text-center">
                                    <div class="col">
                                        <div class="detail-item">
                                            <i class="fas fa-users text-primary"></i>
                                            <small class="d-block text-muted">Max @course.MaxStudents</small>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="detail-item">
                                            <i class="fas fa-star text-warning"></i>
                                            <small class="d-block text-muted">4.8 Rating</small>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="detail-item">
                                            <i class="fas fa-certificate text-success"></i>
                                            <small class="d-block text-muted">Certificate</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="card-footer bg-transparent border-0 p-4 pt-0">
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="price">
                                    <span class="h4 fw-bold text-primary mb-0">${@course.Fee:N0}</span>
                                    <small class="text-muted">/course</small>
                                </div>
                                <div class="course-actions">
                                    <button class="btn btn-outline-primary btn-sm me-2" title="Add to Wishlist">
                                        <i class="fas fa-heart"></i>
                                    </button>
                                    <a href="#" class="btn btn-primary">
                                        Enroll Now
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            }
        </div>

        <div class="text-center mt-5">
            <a href="@Url.Action("Index", "Courses")" class="btn btn-outline-primary btn-lg">
                <i class="fas fa-th-large me-2"></i>View All Courses
            </a>
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="display-5 fw-bold mb-3">Why Choose Us?</h2>
            <p class="lead text-muted">Experience the difference with our comprehensive learning approach</p>
        </div>

        <div class="row g-4">
            <div class="col-lg-3 col-md-6">
                <div class="feature-item text-center p-4 h-100">
                    <div class="feature-icon mb-4">
                        <div class="icon-circle bg-primary bg-opacity-10 rounded-circle d-inline-flex align-items-center justify-content-center" style="width: 80px; height: 80px;">
                            <i class="fas fa-chalkboard-teacher fa-2x text-primary"></i>
                        </div>
                    </div>
                    <h5 class="fw-bold mb-3">Expert Instructors</h5>
                    <p class="text-muted">Learn from industry professionals with years of real-world experience and proven teaching methodologies.</p>
                </div>
            </div>

            <div class="col-lg-3 col-md-6">
                <div class="feature-item text-center p-4 h-100">
                    <div class="feature-icon mb-4">
                        <div class="icon-circle bg-success bg-opacity-10 rounded-circle d-inline-flex align-items-center justify-content-center" style="width: 80px; height: 80px;">
                            <i class="fas fa-laptop fa-2x text-success"></i>
                        </div>
                    </div>
                    <h5 class="fw-bold mb-3">Modern Facilities</h5>
                    <p class="text-muted">State-of-the-art classrooms, computer labs, and language learning facilities equipped with the latest technology.</p>
                </div>
            </div>

            <div class="col-lg-3 col-md-6">
                <div class="feature-item text-center p-4 h-100">
                    <div class="feature-icon mb-4">
                        <div class="icon-circle bg-warning bg-opacity-10 rounded-circle d-inline-flex align-items-center justify-content-center" style="width: 80px; height: 80px;">
                            <i class="fas fa-certificate fa-2x text-warning"></i>
                        </div>
                    </div>
                    <h5 class="fw-bold mb-3">Certified Programs</h5>
                    <p class="text-muted">Industry-recognized certificates and credentials that boost your career prospects and validate your skills.</p>
                </div>
            </div>

            <div class="col-lg-3 col-md-6">
                <div class="feature-item text-center p-4 h-100">
                    <div class="feature-icon mb-4">
                        <div class="icon-circle bg-info bg-opacity-10 rounded-circle d-inline-flex align-items-center justify-content-center" style="width: 80px; height: 80px;">
                            <i class="fas fa-clock fa-2x text-info"></i>
                        </div>
                    </div>
                    <h5 class="fw-bold mb-3">Flexible Schedule</h5>
                    <p class="text-muted">Choose from morning, afternoon, evening, and weekend classes to fit your busy lifestyle and commitments.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Success Stories Section -->
<section class="py-5">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="display-5 fw-bold mb-3">Success Stories</h2>
            <p class="lead text-muted">Hear from our graduates who have achieved their goals</p>
        </div>

        <div class="row g-4">
            <div class="col-lg-4">
                <div class="testimonial-card card border-0 shadow-sm h-100">
                    <div class="card-body p-4">
                        <div class="testimonial-content mb-4">
                            <div class="stars mb-3">
                                @for (int i = 0; i < 5; i++)
                                {
                                    <i class="fas fa-star text-warning"></i>
                                }
                            </div>
                            <p class="mb-0">"The English course here completely transformed my communication skills. I got promoted to an international role within 6 months of completion!"</p>
                        </div>
                        <div class="testimonial-author d-flex align-items-center">
                            <img src="~/images/testimonials/student1.jpg" class="rounded-circle me-3" width="50" height="50" alt="Sarah Johnson">
                            <div>
                                <h6 class="mb-0 fw-bold">Sarah Johnson</h6>
                                <small class="text-muted">Business English Graduate</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4">
                <div class="testimonial-card card border-0 shadow-sm h-100">
                    <div class="card-body p-4">
                        <div class="testimonial-content mb-4">
                            <div class="stars mb-3">
                                @for (int i = 0; i < 5; i++)
                                {
                                    <i class="fas fa-star text-warning"></i>
                                }
                            </div>
                            <p class="mb-0">"The Web Development program gave me practical skills I use every day. Now I'm working as a full-stack developer at a tech startup!"</p>
                        </div>
                        <div class="testimonial-author d-flex align-items-center">
                            <img src="~/images/testimonials/student2.jpg" class="rounded-circle me-3" width="50" height="50" alt="Michael Chen">
                            <div>
                                <h6 class="mb-0 fw-bold">Michael Chen</h6>
                                <small class="text-muted">Web Development Graduate</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4">
                <div class="testimonial-card card border-0 shadow-sm h-100">
                    <div class="card-body p-4">
                        <div class="testimonial-content mb-4">
                            <div class="stars mb-3">
                                @for (int i = 0; i < 5; i++)
                                {
                                    <i class="fas fa-star text-warning"></i>
                                }
                            </div>
                            <p class="mb-0">"Learning Japanese here opened doors to amazing opportunities in international business. The teachers are incredibly supportive!"</p>
                        </div>
                        <div class="testimonial-author d-flex align-items-center">
                            <img src="~/images/testimonials/student3.jpg" class="rounded-circle me-3" width="50" height="50" alt="Emily Rodriguez">
                            <div>
                                <h6 class="mb-0 fw-bold">Emily Rodriguez</h6>
                                <small class="text-muted">Japanese Language Graduate</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="py-5 bg-primary text-white">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-8">
                <h3 class="fw-bold mb-2">Ready to Start Your Learning Journey?</h3>
                <p class="mb-0">Join thousands of successful graduates and take the first step towards your goals.</p>
            </div>
            <div class="col-lg-4 text-lg-end">
                <a href="@Url.Action("Register", "Account")" class="btn btn-light btn-lg">
                    <i class="fas fa-rocket me-2"></i>Get Started Today
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Video Modal -->
<div class="modal fade" id="videoModal" tabindex="-1" aria-labelledby="videoModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="videoModalLabel">Center Overview</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body p-0">
                <div class="ratio ratio-16x9">
                    <iframe src="https://www.youtube.com/embed/dQw4w9WgXcQ" title="Center Overview" allowfullscreen></iframe>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        $(document).ready(function() {
            // Animate counters
            $('.counter').each(function() {
                var $this = $(this);
                var target = parseInt($this.data('target'));

                $({ value: 0 }).animate({ value: target }, {
                    duration: 2000,
                    easing: 'swing',
                    step: function() {
                        $this.text(Math.ceil(this.value));
                    },
                    complete: function() {
                        $this.text(target);
                    }
                });
            });

            // Smooth scrolling for anchor links
            $('a[href^="#"]').on('click', function(e) {
                e.preventDefault();
                var target = $(this.getAttribute('href'));
                if (target.length) {
                    $('html, body').animate({
                        scrollTop: target.offset().top - 80
                    }, 1000);
                }
            });

            // Course card hover effects
            $('.course-card').hover(
                function() {
                    $(this).find('.course-overlay').addClass('opacity-100');
                    $(this).addClass('shadow-lg').removeClass('shadow-hover');
                },
                function() {
                    $(this).find('.course-overlay').removeClass('opacity-100');
                    $(this).addClass('shadow-hover').removeClass('shadow-lg');
                }
            );
        });

      
    </script>

@functions {
    public string GetCourseImage(CourseType type, string category)
    {
        if (string.IsNullOrEmpty(category)) category = "general";

        return type == CourseType.Language
            ? $"~/images/courses/language-{category.ToLower()}.jpg"
            : $"~/images/courses/it-{category.ToLower()}.jpg";
    }
}

}