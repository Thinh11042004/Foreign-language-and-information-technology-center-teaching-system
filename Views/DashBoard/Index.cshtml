@{
    ViewData["Title"] = "EduManager - Analytics DashBoard";
    Layout = null;
}

<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduManager - Analytics Dashboard</title>

    <!-- External Libraries -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link rel="stylesheet" href="~/css/DashBoard.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>

    
</head>

<body>
    <!-- Dashboard Header -->
    <div class="dashboard-header animate__animated animate__fadeInDown">
        <div class="container">
            <div class="header-content">
                <div class="row align-items-center">
                    <div class="col-lg-8">
                        <h1 class="dashboard-title">
                            <i class="fas fa-chart-line"></i>
                            Analytics Dashboard
                        </h1>
                        <p class="dashboard-subtitle">
                            Thống kê toàn diện về doanh thu, khóa học và học sinh của hệ thống EduManager
                        </p>
                    </div>
                    <div class="col-lg-4">
                        <div class="date-range-selector">
                            <span style="margin-right: 10px; font-weight: 600;">Khoảng thời gian:</span>
                            <button class="date-btn active" data-range="7">7 ngày</button>
                            <button class="date-btn" data-range="30">30 ngày</button>
                            <button class="date-btn" data-range="90">3 tháng</button>
                            <button class="date-btn" data-range="365">1 năm</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Stats Overview -->
    <div class="stats-overview">
        <div class="container">
            <div class="stats-grid">
                <!-- Doanh thu -->
                <div class="stat-card fade-in delay-1">
                    <div class="stat-header">
                        <div class="stat-icon">
                            <i class="fas fa-dollar-sign"></i>
                        </div>
                        <div class="stat-trend trend-up">
                            <i class="fas fa-arrow-up"></i> +15.3%
                        </div>
                    </div>
                    <div class="stat-number" data-target="2847000">₫0</div>
                    <div class="stat-label">Tổng doanh thu</div>
                    <div class="stat-description">So với tháng trước</div>
                </div>

                <!-- Khóa học -->
                <div class="stat-card fade-in delay-2">
                    <div class="stat-header">
                        <div class="stat-icon">
                            <i class="fas fa-graduation-cap"></i>
                        </div>
                        <div class="stat-trend trend-up">
                            <i class="fas fa-arrow-up"></i> +8.2%
                        </div>
                    </div>
                    <div class="stat-number" data-target="156">0</div>
                    <div class="stat-label">Tổng khóa học</div>
                    <div class="stat-description">Đang hoạt động: 89</div>
                </div>

                <!-- Học sinh -->
                <div class="stat-card fade-in delay-3">
                    <div class="stat-header">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-trend trend-up">
                            <i class="fas fa-arrow-up"></i> +23.1%
                        </div>
                    </div>
                    <div class="stat-number" data-target="3247">0</div>
                    <div class="stat-label">Học sinh đăng ký</div>
                    <div class="stat-description">Mới trong tháng: 342</div>
                </div>

                <!-- Tỷ lệ hoàn thành -->
                <div class="stat-card fade-in delay-4">
                    <div class="stat-header">
                        <div class="stat-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="stat-trend trend-up">
                            <i class="fas fa-arrow-up"></i> +5.7%
                        </div>
                    </div>
                    <div class="stat-number" data-target="87.5">0%</div>
                    <div class="stat-label">Tỷ lệ hoàn thành</div>
                    <div class="stat-description">Trung bình khóa học</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Charts Section -->
    <div class="charts-section">
        <div class="container">
            <!-- Revenue Line Chart -->
            <div class="chart-card fade-in">
                <div class="chart-header">
                    <div class="chart-title">
                        <div class="chart-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        Biểu đồ doanh thu theo thời gian
                    </div>
                    <div class="chart-options">
                        <button class="chart-btn active" data-period="daily">Theo ngày</button>
                        <button class="chart-btn" data-period="weekly">Theo tuần</button>
                        <button class="chart-btn" data-period="monthly">Theo tháng</button>
                    </div>
                </div>
                <div class="chart-container">
                    <canvas id="revenueChart"></canvas>
                </div>
                <div class="chart-loading">
                    <div class="loading-spinner"></div>
                    <p>Đang tải dữ liệu...</p>
                </div>
            </div>

            <!-- Charts Grid -->
            <div class="charts-grid">
                <!-- Student Registration Bar Chart -->
                <div class="chart-card fade-in">
                    <div class="chart-header">
                        <div class="chart-title">
                            <div class="chart-icon">
                                <i class="fas fa-chart-bar"></i>
                            </div>
                            Đăng ký học sinh theo tháng
                        </div>
                        <div class="chart-options">
                            <button class="chart-btn active" data-chart="registrations">2024</button>
                        </div>
                    </div>
                    <div class="chart-container">
                        <canvas id="registrationChart"></canvas>
                    </div>
                </div>

                <!-- Course Distribution Pie Chart -->
                <div class="chart-card fade-in">
                    <div class="chart-header">
                        <div class="chart-title">
                            <div class="chart-icon">
                                <i class="fas fa-chart-pie"></i>
                            </div>
                            Phân bố khóa học theo danh mục
                        </div>
                    </div>
                    <div class="chart-container small">
                        <canvas id="courseDistributionChart"></canvas>
                    </div>

                    <!-- Course Progress -->
                    <div style="margin-top: 30px;">
                        <h6 style="color: var(--color-4); margin-bottom: 20px; font-weight: 700;">
                            <i class="fas fa-tasks me-2"></i>Tiến độ khóa học phổ biến
                        </h6>
                        <div class="progress-item">
                            <div class="progress-header">
                                <span class="progress-label">Lập trình Python</span>
                                <span class="progress-value">89%</span>
                            </div>
                            <div class="progress-bar-custom">
                                <div class="progress-fill" style="width: 89%; background: var(--gradient-primary);"></div>
                            </div>
                        </div>
                        <div class="progress-item">
                            <div class="progress-header">
                                <span class="progress-label">Toán học cơ bản</span>
                                <span class="progress-value">76%</span>
                            </div>
                            <div class="progress-bar-custom">
                                <div class="progress-fill" style="width: 76%; background: var(--gradient-secondary);"></div>
                            </div>
                        </div>
                        <div class="progress-item">
                            <div class="progress-header">
                                <span class="progress-label">Tiếng Anh giao tiếp</span>
                                <span class="progress-value">92%</span>
                            </div>
                            <div class="progress-bar-custom">
                                <div class="progress-fill" style="width: 92%; background: var(--gradient-tertiary);"></div>
                            </div>
                        </div>
                        <div class="progress-item">
                            <div class="progress-header">
                                <span class="progress-label">Hóa học nâng cao</span>
                                <span class="progress-value">64%</span>
                            </div>
                            <div class="progress-bar-custom">
                                <div class="progress-fill" style="width: 64%; background: linear-gradient(135deg, #10b981, #059669);"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Additional Charts Row -->
            <div class="charts-row">
                <!-- Revenue by Course Doughnut Chart -->
                <div class="chart-card fade-in">
                    <div class="chart-header">
                        <div class="chart-title">
                            <div class="chart-icon">
                                <i class="fas fa-money-bill-wave"></i>
                            </div>
                            Doanh thu theo khóa học
                        </div>
                    </div>
                    <div class="chart-container small">
                        <canvas id="revenueByCourseChart"></canvas>
                    </div>
                </div>

                <!-- Performance Radar Chart -->
                <div class="chart-card fade-in">
                    <div class="chart-header">
                        <div class="chart-title">
                            <div class="chart-icon">
                                <i class="fas fa-spider"></i>
                            </div>
                            Hiệu suất tổng quát
                        </div>
                    </div>
                    <div class="chart-container small">
                        <canvas id="performanceRadarChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Data Table -->
            <div class="data-table fade-in">
                <div class="chart-header">
                    <div class="chart-title">
                        <div class="chart-icon">
                            <i class="fas fa-table"></i>
                        </div>
                        Top khóa học theo doanh thu
                    </div>
                    <div class="chart-options">
                        <button class="chart-btn active">Tất cả</button>
                        <button class="chart-btn">Tháng này</button>
                    </div>
                </div>
                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Khóa học</th>
                                <th>Giáo viên</th>
                                <th>Học sinh</th>
                                <th>Doanh thu</th>
                                <th>Đánh giá</th>
                                <th>Trạng thái</th>
                                <th>Tăng trưởng</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>1</strong></td>
                                <td>
                                    <div class="d-flex align-items-center">
                                        <div class="me-3" style="width: 40px; height: 40px; background: var(--gradient-primary); border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-size: 14px; font-weight: bold;">PY</div>
                                        <div>
                                            <strong>Lập trình Python cơ bản</strong>
                                            <br><small class="text-muted">Kỹ thuật • Cơ bản</small>
                                        </div>
                                    </div>
                                </td>
                                <td>Hoàng Minh E</td>
                                <td><strong>189</strong></td>
                                <td><strong style="color: var(--color-3);">₫472.5M</strong></td>
                                <td>
                                    <div class="d-flex align-items-center">
                                        <i class="fas fa-star" style="color: #fbbf24; margin-right: 5px;"></i>
                                        <strong>4.9</strong>
                                    </div>
                                </td>
                                <td><span class="status-badge status-active">Hoạt động</span></td>
                                <td><span class="trend-up"><i class="fas fa-arrow-up"></i> +25%</span></td>
                            </tr>
                            <tr>
                                <td><strong>2</strong></td>
                                <td>
                                    <div class="d-flex align-items-center">
                                        <div class="me-3" style="width: 40px; height: 40px; background: var(--gradient-secondary); border-radius: 8px; display: flex; align-items: center; justify-content: center; color: var(--color-4); font-size: 14px; font-weight: bold;">EN</div>
                                        <div>
                                            <strong>Tiếng Anh giao tiếp</strong>
                                            <br><small class="text-muted">Ngôn ngữ • Trung bình</small>
                                        </div>
                                    </div>
                                </td>
                                <td>Sarah Johnson</td>
                                <td><strong>167</strong></td>
                                <td><strong style="color: var(--color-3);">₫200.4M</strong></td>
                                <td>
                                    <div class="d-flex align-items-center">
                                        <i class="fas fa-star" style="color: #fbbf24; margin-right: 5px;"></i>
                                        <strong>4.6</strong>
                                    </div>
                                </td>
                                <td><span class="status-badge status-active">Hoạt động</span></td>
                                <td><span class="trend-up"><i class="fas fa-arrow-up"></i> +18%</span></td>
                            </tr>
                            <tr>
                                <td><strong>3</strong></td>
                                <td>
                                    <div class="d-flex align-items-center">
                                        <div class="me-3" style="width: 40px; height: 40px; background: var(--gradient-tertiary); border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-size: 14px; font-weight: bold;">MT</div>
                                        <div>
                                            <strong>Toán học cơ bản</strong>
                                            <br><small class="text-muted">Toán học • Cơ bản</small>
                                        </div>
                                    </div>
                                </td>
                                <td>Nguyễn Văn A</td>
                                <td><strong>145</strong></td>
                                <td><strong style="color: var(--color-3);">₫290.0M</strong></td>
                                <td>
                                    <div class="d-flex align-items-center">
                                        <i class="fas fa-star" style="color: #fbbf24; margin-right: 5px;"></i>
                                        <strong>4.8</strong>
                                    </div>
                                </td>
                                <td><span class="status-badge status-active">Hoạt động</span></td>
                                <td><span class="trend-up"><i class="fas fa-arrow-up"></i> +12%</span></td>
                            </tr>
                            <tr>
                                <td><strong>4</strong></td>
                                <td>
                                    <div class="d-flex align-items-center">
                                        <div class="me-3" style="width: 40px; height: 40px; background: linear-gradient(135deg, #10b981, #059669); border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-size: 14px; font-weight: bold;">CH</div>
                                        <div>
                                            <strong>Hóa học hữu cơ</strong>
                                            <br><small class="text-muted">Khoa học • Nâng cao</small>
                                        </div>
                                    </div>
                                </td>
                                <td>Lê Văn C</td>
                                <td><strong>98</strong></td>
                                <td><strong style="color: var(--color-3);">₫176.4M</strong></td>
                                <td>
                                    <div class="d-flex align-items-center">
                                        <i class="fas fa-star" style="color: #fbbf24; margin-right: 5px;"></i>
                                        <strong>4.7</strong>
                                    </div>
                                </td>
                                <td><span class="status-badge status-active">Hoạt động</span></td>
                                <td><span class="trend-up"><i class="fas fa-arrow-up"></i> +9%</span></td>
                            </tr>
                            <tr>
                                <td><strong>5</strong></td>
                                <td>
                                    <div class="d-flex align-items-center">
                                        <div class="me-3" style="width: 40px; height: 40px; background: linear-gradient(135deg, #8b5cf6, #7c3aed); border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-size: 14px; font-weight: bold;">BI</div>
                                        <div>
                                            <strong>Sinh học phân tử</strong>
                                            <br><small class="text-muted">Khoa học • Chuyên sâu</small>
                                        </div>
                                    </div>
                                </td>
                                <td>Phạm Thị D</td>
                                <td><strong>76</strong></td>
                                <td><strong style="color: var(--color-3);">₫167.2M</strong></td>
                                <td>
                                    <div class="d-flex align-items-center">
                                        <i class="fas fa-star" style="color: #fbbf24; margin-right: 5px;"></i>
                                        <strong>4.5</strong>
                                    </div>
                                </td>
                                <td><span class="status-badge status-pending">Chuẩn bị</span></td>
                                <td><span class="trend-up"><i class="fas fa-arrow-up"></i> +15%</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/DashBoard.js"></script>
    
</body>
</html>